(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(21),o=n.n(i),a=(n(30),n(2)),r=(n(31),n(10)),l=n(3),j=n(4),u=n(0);var d=function(){var e,t=Object(c.useContext)(j.a),n=localStorage.getItem("editingBlog"),s=localStorage.getItem("editingTitle"),i=localStorage.getItem("id"),o=Object(c.useState)(""),d=Object(a.a)(o,2),h=d[0],b=d[1],O=Object(c.useState)([]),f=Object(a.a)(O,2),g=f[0],m=f[1],p=Object(c.useState)(""),x=Object(a.a)(p,2),v=x[0],S=x[1],C=Object(c.useState)(""),N=Object(a.a)(C,2);N[0],N[1],console.log(n);var y=Object(c.useState)(),B=Object(a.a)(y,2),T=B[0],k=B[1],I=Object(c.useState)(""),w=Object(a.a)(I,2),P=w[0],A=w[1];Object(c.useEffect)((function(){n&&(console.log("ll"),k(i),b(s),S(n))}),[]);var U=Object(l.f)(),F=Object(c.useState)([]),J=Object(a.a)(F,2),E=J[0],_=J[1],L=Object(c.useState)(!1),R=Object(a.a)(L,2),D=R[0],H=R[1],M=null===g||void 0===g?void 0:g.slice(0,3).map((function(e){return Object(u.jsx)("div",{children:Object(u.jsxs)("small",{onClick:function(t){_([].concat(Object(r.a)(E),[e])),t.target.className="hTag"},children:["\ud83c\udff7",e]})},Math.random())}));return Object(u.jsxs)("div",{children:[Object(u.jsxs)("header",{id:"channel3",children:[Object(u.jsx)("b",{onClick:function(){U.push("/")},children:"Channel\ud83c\udf10"}),Object(u.jsx)("img",{src:null===(e=t.userStuff[0])||void 0===e?void 0:e.image_url,className:"profilePic2",alt:"user profile",onClick:function(e){fetch("/users/".concat(t.userStuff[0].id)).then((function(e){return e.json()})).then((function(e){t.setAUser([e]),U.push("/author")}))}})]}),Object(u.jsx)("div",{}),Object(u.jsx)("span",{children:Object(u.jsx)("textarea",{placeholder:"title",value:h,onChange:function(e){b(e.target.value)},className:"title"})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("textarea",{value:v,onChange:function(e){S(e.target.value),localStorage.setItem("editingBlog",e.target.value)},placeholder:"Write",className:"article"}),Object(u.jsx)("span",{className:"pubBtn",children:Object(u.jsx)("button",{className:"button",onClick:function(e){t.editBlog?fetch("/posts/".concat(T),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:T,blog:v,title:h})}).then((function(e){e.ok?e.json().then((function(e){t.setAllBlogs([e].concat(Object(r.a)(t.allBlogs))),t.setAUser([e]),H(!0)})):e.json().then((function(e){alert(e.errors)}))})):fetch("/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.userId,id:T,blog:v,likes:0,title:h,views:0})}).then((function(e){e.ok?e.json().then((function(e){m(e.response),H(!0),t.setAUser([e])})):e.json().then((function(e){alert(e.errors)}))}))},children:"Publish"})})]}),D?Object(u.jsxs)("div",{className:"popup",children:[Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),_([].concat(Object(r.a)(E),[P]))},children:Object(u.jsx)("input",{type:"text",placeholder:"add tag",value:P,onChange:function(e){A(e.target.value)}})}),Object(u.jsx)("i",{children:" select tags"}),M,Object(u.jsx)("div",{className:"container",children:null===E||void 0===E?void 0:E.map((function(e){return Object(u.jsxs)("small",{children:["\ud83c\udff7",e]},Math.random())}))}),0!==E.length?Object(u.jsx)("button",{onClick:function(e){fetch("/tags",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tags:E,id:t.userStuff[0].id})}).then((function(e){return e.json()})).then((function(e){t.setAUser([e]),U.push("/author")}))},children:"Sumbit"}):Object(u.jsx)("button",{disabled:!0,children:"Submit"}),Object(u.jsx)("button",{onClick:function(e){fetch("/users/".concat(t.userStuff[0].id)).then((function(e){return e.json()})).then((function(e){t.setAUser([e]),U.push("/author")}))},children:"No Tags"})]}):Object(u.jsx)("p",{})]})};var h=function(){var e,t,n=Object(c.useContext)(j.a),s=Object(l.f)(),i=n.userStuff.map((function(e){return Object(u.jsx)("span",{id:"profile",onClick:function(t){fetch("/users/".concat(e.id)).then((function(e){return e.json()})).then((function(t){console.log(t),n.setAUser([t]),n.setAUser([e]),s.push("/author")}))},children:Object(u.jsx)("img",{src:e.image_url,alt:"user profile",className:"profilePic"})},e.id)})),o=null===(e=n.allTags)||void 0===e?void 0:e.filter((function(e){return e.name.includes(n.findBlog)})),a=null===(t=n.allUsers)||void 0===t?void 0:t.filter((function(e){return e.username.includes(n.findBlog)}));return Object(u.jsxs)("div",{className:"topnav",children:[Object(u.jsx)("span",{id:"channel",children:Object(u.jsx)("strong",{onClick:function(){s.push("/")},children:"Channel\ud83c\udf10 "})}),Object(u.jsxs)("span",{className:"dropdown",children:[Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),n.findBlog&&fetch("/posts/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n.findBlog})}).then((function(e){e.ok?e.json().then((function(e){n.setFilteredBlogs(e),n.setUserSearched(n.findBlog),n.setFindblog(),s.push("/search")})):e.json().then((function(e){console.log(e),alert(e.errors)}))}))},children:Object(u.jsx)("input",{type:"text",placeholder:"Search..",value:n.findBlog,id:"search",onChange:function(e){n.setFindblog(e.target.value)}})}),n.findBlog?Object(u.jsxs)("span",{className:"dropdown-content",children:[Object(u.jsx)("b",{children:"Topics"}),Object(u.jsx)("div",{children:o.map((function(e){return Object(u.jsx)("div",{children:Object(u.jsxs)("p",{onClick:function(t){fetch("/filtered",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name})}).then((function(e){return e.json()})).then((function(t){n.setUserSearched(e.name),n.setFilteredBlogs(t),n.setFindblog(),s.push("/search")}))},children:["\ud83c\udff7",e.name]})},e.id)}))}),Object(u.jsx)("b",{children:"People"}),a.map((function(e){return Object(u.jsxs)("div",{onClick:function(t){fetch("/users/".concat(e.id)).then((function(e){return e.json()})).then((function(e){console.log(e),n.setFindblog(""),n.setAUser([e]),s.push("/author")}))},children:[Object(u.jsx)("img",{src:e.image_url,className:"profilePic",alt:"user profile"}),Object(u.jsx)("em",{children:e.username})]},e.id)}))]}):Object(u.jsx)("div",{})]}),n.isLoggedIn?Object(u.jsxs)("div",{children:["  ",Object(u.jsxs)("span",{children:[Object(u.jsx)("a",{href:"/createBlogs",id:"write",children:"\u270d\ufe0f"})," "]}),Object(u.jsx)("button",{id:"logout",onClick:function(e){window.confirm("Are you sure you want to logout?")&&(fetch("/logout",{method:"DELETE"}),n.setIsLoggedIn(!1)),s.push("/")},children:"Logout"}),i]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{id:"signIn",children:Object(u.jsx)("b",{onClick:function(e){return s.push("/login")},children:"Sign in"})}),Object(u.jsx)("span",{id:"signUp",children:Object(u.jsx)("b",{onClick:function(e){return s.push("/signup")},children:"Sign up"})})]})]})};var b=function(){var e,t,n,s=Object(c.useContext)(j.a);null===(e=s.recommendedStuff)||void 0===e||e.sort((function(e,t){return t.views-e.views})),s.allTags.sort((function(e,t){return t.posts.length-e.posts.length}));var i=Object(l.f)(),o=[];localStorage.clear();var a=null===(t=s.recommendedStuff)||void 0===t?void 0:t.slice(0,2).map((function(e){return o.push(e.user),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"cont",children:[Object(u.jsxs)("span",{children:["  ",Object(u.jsx)("img",{src:e.user.image_url,alt:"authours proifile",className:"profilePic"}),Object(u.jsx)("em",{children:e.user.username})]}),Object(u.jsx)("h3",{children:e.title}),Object(u.jsx)("p",{children:"".concat(e.blog.slice(0,.05*e.blog.length),"...")}),Object(u.jsx)("p",{onClick:function(){s.setReadBlog([e]),0!==e.tags.length?s.setTagName(e.tags[0].name):s.setTagName(),fetch("/views",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,views:!0,tag:s.tagName})}).then((function(e){e.ok?e.json().then((function(e){i.push("/blog")})):e.json().then((function(e){alert(e.errors)}))}))},children:"read more"})]})},e.id)})),d=null===(n=s.allBlogs)||void 0===n?void 0:n.slice(0,30).map((function(e){var t;return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("img",{src:null===(t=e.user)||void 0===t?void 0:t.image_url,alt:"userImage",className:"profilePic"}),Object(u.jsx)("div",{children:Object(u.jsx)("b",{onClick:function(t){fetch("/users/".concat(e.user.id)).then((function(e){return e.json()})).then((function(e){s.setAUser([e]),i.push("/author")}))},children:e.user.username})}),Object(u.jsx)("span",{children:Object(u.jsx)("i",{children:e.title})}),Object(u.jsx)("p",{children:"".concat(e.blog.slice(0,.1*e.blog.length),"...")}),Object(u.jsxs)("p",{children:["\ud83d\udc41",e.views]}),Object(u.jsx)("p",{onClick:function(){s.setReadBlog([e]),0!==e.tags.length?s.setTagName(e.tags[0].name):s.setTagName(),fetch("/views",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,views:!0,tag:s.tagName})}).then((function(e){e.ok?e.json().then((function(e){i.push("/blog")})):e.json().then((function(e){alert(e.errors)}))}))},children:"read more"})]},e.id)})),b=o.filter((function(e){return e.username!==s.currentUser})),O=Object(r.a)(new Set(b));return Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsx)(h,{})}),Object(u.jsx)("img",{src:"https://img.freepik.com/premium-vector/globe-silhouette-america-continent-map-earth-latitude-longitude-line-grid-vector_8589-692.jpg",className:"globe",alt:"white and black globe"}),Object(u.jsxs)("div",{className:"sidenav",children:[Object(u.jsxs)("div",{className:"cont",children:[Object(u.jsx)("b",{children:"Popular Topics"}),s.allTags.slice(0,3).map((function(e){return Object(u.jsx)("div",{className:"badge",children:Object(u.jsxs)("p",{className:"tag",onClick:function(t){fetch("/filtered",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name})}).then((function(e){return e.json()})).then((function(t){s.setFilteredBlogs(t),s.setUserSearched(e.name),i.push("/search")}))},children:[" \ud83c\udff7",e.name]})},e.id)}))," "]}),Object(u.jsx)("b",{children:"Recommended Blogs"}),a,Object(u.jsxs)("div",{children:[" ",Object(u.jsx)("b",{children:"Recommended Author"}),O.slice(0,1).map((function(e){return Object(u.jsxs)("div",{className:"authors",onClick:function(t){fetch("/users/".concat(e.id)).then((function(e){return e.json()})).then((function(e){s.setAUser([e]),i.push("/author")}))},children:[Object(u.jsx)("img",{src:e.image_url,className:"profilePic",alt:"author profile"}),Object(u.jsx)("em",{children:e.username}),Object(u.jsx)("p",{children:e.bio})]},e.id)}))]})]}),Object(u.jsxs)("span",{children:["  ",Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Picked For You"}),d]})]})]})};var O=function(){var e,t=Object(c.useContext)(j.a);Object(c.useEffect)((function(){0===t.filteredBlogs.length&&fetch("/search").then((function(e){return e.json()})).then((function(e){t.setFilteredBlogs(e)(e)}))}),[]);var n=Object(l.f)(),s=null===(e=t.filteredBlogs)||void 0===e?void 0:e.map((function(e){return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("img",{src:e.user.image_url,alt:"userImage",className:"profilePic"}),Object(u.jsx)("div",{children:Object(u.jsx)("b",{children:e.user.username})}),Object(u.jsx)("span",{children:Object(u.jsx)("i",{children:e.title})}),Object(u.jsx)("p",{children:"".concat(e.blog.slice(0,.1*e.blog.length),"...")}),Object(u.jsxs)("p",{children:["\ud83d\udc41",e.views]}),Object(u.jsx)("p",{onClick:function(){t.setReadBlog([e]),n.push("/blog"),fetch("/views",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,views:!0})})},children:"read more"})]},e.id)}));return Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"cont",children:[Object(u.jsx)("h1",{children:t.userSearched}),s]})]})};var f,g=function(){localStorage.getItem;var e,t=Object(c.useContext)(j.a);console.log(t.readBlog);var n=Object(c.useState)(),s=Object(a.a)(n,2),i=s[0],o=s[1],d=Object(c.useState)(""),b=Object(a.a)(d,2),O=b[0],f=b[1],g=Object(l.f)(),m=Object(c.useState)(!1),p=Object(a.a)(m,2),x=p[0],v=p[1];Object(c.useEffect)((function(){fetch("/aBlog").then((function(e){return e.json()})).then((function(e){t.setReadBlog([e])}))}),[]),Object(c.useEffect)((function(){fetch("/comments").then((function(e){return e.json()})).then((function(e){o(e)}))}),[]);var S,C=null===i||void 0===i?void 0:i.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:e.user.image_url,alt:"userImage",className:"profilePic"}),Object(u.jsx)("p",{children:e.comment})]},e.id)})),N=null===(e=t.readBlog)||void 0===e?void 0:e.map((function(e){return S=e.id,0!==e.tags.length?t.setTagName(e.tags[0].name):console.log("lol"),Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{onClick:function(n){fetch("/users/".concat(e.user.id)).then((function(e){return e.json()})).then((function(e){t.setAUser([e]),g.push("/author")}))},children:[Object(u.jsx)("img",{src:e.user.image_url,alt:"userImage",className:"profilePic"}),Object(u.jsx)("b",{children:e.user.username})]}),Object(u.jsxs)("span",{children:[" ",Object(u.jsxs)("h1",{children:[e.title,"  "]}),"  ",0!==e.tags.length?Object(u.jsxs)("div",{children:[" ",e.tags.map((function(e){return Object(u.jsx)("div",{className:"blogBadge",id:e.id,children:Object(u.jsxs)("p",{className:"tag",children:["\ud83c\udff7",e.name]})})}))]}):Object(u.jsx)("div",{}),"  "]}),Object(u.jsxs)("h3",{className:"dox2",children:[" ",e.blog]}),Object(u.jsx)("div",{children:x?Object(u.jsxs)("div",{className:"forCs",children:[Object(u.jsx)("button",{id:"x",onClick:function(){v(!1)},children:"x"}),Object(u.jsx)("textarea",{value:O,className:"iComment",placeholder:"comment",onChange:function(e){f(e.target.value)},onClick:function(e){!1===t.isLoggedIn&&(t.setFromAblog(!0),localStorage.setItem("fromBlog","Create an account to comment"),g.push("/signup"))}}),O?Object(u.jsx)("button",{onClick:function(){fetch("/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post_id:S,user_id:t.userId,comment:O})}).then((function(e){return e.json()})).then((function(e){o([e].concat(Object(r.a)(i)))}))},children:"Sumbit"}):Object(u.jsx)("p",{}),C]}):Object(u.jsxs)("span",{className:"pubBtn",children:[t.isLoggedIn?Object(u.jsxs)("p",{onClick:function(n){return fetch("/views",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,likes:!0})}).then((function(e){e.ok?e.json().then((function(e){t.setReadBlog([e])})):e.json().then((function(e){alert(e.errors)}))}))},children:["\u2764\ufe0f",e.likes]}):Object(u.jsxs)("p",{onClick:function(e){!1===t.isLoggedIn&&(t.setFromAblog(!0),localStorage.setItem("fromBlog","Create an account to like post"),g.push("/signup"))},children:["\u2764\ufe0f",e.likes]}),Object(u.jsxs)("em",{onClick:function(){v(!0)},children:["\ud83d\udcac",null===i||void 0===i?void 0:i.length]})]})})]},e.id)}));return Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)(h,{}),Object(u.jsx)("div",{children:N})]})},m=n(25),p=j.b.div(f||(f=Object(m.a)(["\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n"])));var x=function(){var e=Object(c.useContext)(j.a),t=Object(c.useState)(""),n=Object(a.a)(t,2),s=n[0],i=n[1],o=localStorage.getItem("fromBlog"),r=Object(c.useState)(""),d=Object(a.a)(r,2),h=d[0],b=d[1],O=Object(c.useState)(""),f=Object(a.a)(O,2),g=f[0],m=f[1],x=Object(c.useState)(""),v=Object(a.a)(x,2),S=v[0],C=v[1],N=Object(c.useState)(!1),y=Object(a.a)(N,2),B=y[0],T=y[1],k=Object(l.f)();return Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsx)("h1",{onClick:function(){localStorage.clear(),k.push("/")},children:"Channel\ud83c\udf10"})}),Object(u.jsxs)("div",{className:"fox",children:[o?Object(u.jsxs)("div",{children:[" ",Object(u.jsx)("h2",{children:o})]}):null,Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),fetch("/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:g,bio:S,image_url:h})}).then((function(t){t.ok?(T(!0),setTimeout((function(){e.setIsLoggedIn(!0),o?k.push("/blog"):k.push("/"),localStorage.clear()}),1e3),t.json()):t.json().then((function(e){return alert(e.errors)}))}))},className:"form",children:[Object(u.jsx)(p,{children:Object(u.jsx)("input",{type:"text",name:"username",className:"username",placeholder:"username*",value:s,onChange:function(e){i(e.target.value)}})}),Object(u.jsx)(p,{children:Object(u.jsx)("input",{type:"password",name:"password",className:"username",placeholder:"password*",value:g,onChange:function(e){m(e.target.value)}})}),Object(u.jsx)(p,{children:Object(u.jsx)("input",{type:"url",name:"imageUrl",className:"username",placeholder:"profile picture ",value:h,onChange:function(e){b(e.target.value)}})}),Object(u.jsx)(p,{children:Object(u.jsx)("input",{name:"bio",className:"username",placeholder:"bio",value:S,onChange:function(e){C(e.target.value)}})}),Object(u.jsx)("button",{type:"submit",className:"submit",children:"Submit"})]}),Object(u.jsxs)("span",{className:"bottom",children:[Object(u.jsxs)("p",{children:["Already have an account?",Object(u.jsx)("a",{href:"/login",children:"Sign in"})]}),B?Object(u.jsx)("div",{children:"'Account succesfully created. Redirecting to home page...' "}):Object(u.jsx)("div",{})]})]})]})};var v=function(){var e=Object(c.useContext)(j.a),t=Object(l.f)(),n=localStorage.getItem("fromBlog"),s=Object(c.useState)(""),i=Object(a.a)(s,2),o=i[0],r=i[1],d=Object(c.useState)(""),h=Object(a.a)(d,2),b=h[0],O=h[1];return Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsx)("h1",{onClick:function(){localStorage.clear(),t.push("/")},children:"Channel\ud83c\udf10"})}),Object(u.jsxs)("div",{className:"fox",children:[Object(u.jsx)("p",{className:"sign",align:"center",children:"Sign in"}),Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault(),fetch("users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:b})}).then((function(c){c.ok?c.json().then((function(c){e.setUserStuff([c]),e.setIsLoggedIn(!0),n?t.push("/blog"):t.push("/"),localStorage.clear()})):c.json().then((function(e){alert(e.errors)}))}))},className:"form",children:[Object(u.jsx)(p,{children:Object(u.jsx)("input",{type:"text",name:"username",placeholder:"Username",className:"username",value:o,onChange:function(e){r(e.target.value)}})}),Object(u.jsx)(p,{children:Object(u.jsx)("input",{type:"text",name:"password",className:"username",placeholder:"Password",value:b,onChange:function(e){O(e.target.value)}})}),Object(u.jsx)("button",{className:"submit",children:"Sign in"}),Object(u.jsxs)("p",{className:"sc",children:[" ",Object(u.jsx)("a",{href:"./signup",children:"Create an account"})," "]})]})]})]})};var S=function(){var e,t,n,s,i=Object(c.useContext)(j.a);Object(c.useEffect)((function(){0===i.aUser.length&&fetch("/author").then((function(e){return e.json()})).then((function(e){i.setAUser([e])}))}),[i]);var o,a,r=[],d=Object(l.f)(),b=null===(e=i.aUser)||void 0===e?void 0:e.map((function(e){return r.unshift(e.posts),o=e.id,a=e.username,Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:e.image_url,alt:"user profile",className:"profilePic"}),Object(u.jsx)("h2",{children:e.username}),Object(u.jsx)("p",{children:e.bio})]},e.id)}));return null===(t=r[0])||void 0===t||t.sort((function(e,t){return t.id-e.id})),Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsx)(h,{})}),Object(u.jsxs)("div",{className:"dox",children:[Object(u.jsx)("h1",{children:a}),Object(u.jsxs)("h2",{children:["All Posts (",null===(n=r[0])||void 0===n?void 0:n.length,") "]}),null===(s=r[0])||void 0===s?void 0:s.map((function(e){return console.log(r[0].length),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("b",{children:e.title}),Object(u.jsx)("p",{children:"".concat(e.blog.slice(0,.1*e.blog.length),"...")}),Object(u.jsxs)("p",{children:["\ud83d\udc41",e.views]}),Object(u.jsx)("p",{onClick:function(){fetch("/views",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,views:!0,title:e.title})}).then((function(e){return e.json()})).then((function(e){console.log([e]),i.setReadBlog([e]),console.log(i.readblog),d.push("/blog")}))},children:"read more"}),o===i.userId?Object(u.jsxs)("span",{children:[Object(u.jsx)("p",{onClick:function(t){localStorage.setItem("editingBlog",JSON.stringify(e.blog)),localStorage.setItem("editingTitle",JSON.stringify(e.title)),localStorage.setItem("id",JSON.stringify(e.id)),d.push("/createBlogs")},children:"edit"}),Object(u.jsx)("p",{onClick:function(t){window.confirm("Are you sure you want to delete your post?")&&fetch("posts/".concat(e.id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){i.setAUser([e]),console.log(e)}))},children:"Delete"})]}):null]})},e.id)}))]}),Object(u.jsx)("div",{className:"sidenav2",children:b})]})},C=n(7);var N=function(){localStorage.setItem("l","o");var e=localStorage.getItem("l");console.log(e);var t=Object(c.useState)([]),n=Object(a.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)([]),r=Object(a.a)(o,2),h=r[0],f=r[1],m=Object(c.useState)(),p=Object(a.a)(m,2),N=p[0],y=p[1],B=Object(c.useState)([]),T=Object(a.a)(B,2),k=T[0],I=T[1],w=Object(c.useState)(""),P=Object(a.a)(w,2),A=P[0],U=P[1],F=Object(c.useState)([]),J=Object(a.a)(F,2),E=J[0],_=J[1],L=Object(c.useState)(""),R=Object(a.a)(L,2),D=R[0],H=R[1],M=Object(c.useState)(!1),W=Object(a.a)(M,2),Y=W[0],q=W[1],z=Object(c.useState)(""),G=Object(a.a)(z,2),K=G[0],Q=G[1],V=Object(c.useState)(),X=Object(a.a)(V,2),Z=X[0],$=X[1],ee=Object(c.useState)([]),te=Object(a.a)(ee,2),ne=te[0],ce=te[1],se=Object(c.useState)(),ie=Object(a.a)(se,2),oe=ie[0],ae=ie[1],re=Object(c.useState)([]),le=Object(a.a)(re,2),je=le[0],ue=le[1],de=Object(c.useState)(!1),he=Object(a.a)(de,2),be=he[0],Oe=he[1],fe=Object(c.useState)(!1),ge=Object(a.a)(fe,2),me=ge[0],pe=ge[1],xe=Object(c.useState)([]),ve=Object(a.a)(xe,2),Se=ve[0],Ce=ve[1],Ne=Object(c.useState)([]),ye=Object(a.a)(Ne,2),Be=ye[0],Te=ye[1];return Object(c.useEffect)((function(){fetch("/loggedin").then((function(e){e.ok?e.json().then((function(e){_([e]),Q(e.id),$(e.username),pe(!0)})):e.json().then((function(e){pe(!1)}))}))}),[]),Object(c.useEffect)((function(){fetch("/users/").then((function(e){return e.json()})).then((function(e){ce(e)}))}),[]),Object(c.useEffect)((function(){fetch("/posts").then((function(e){return e.json()})).then((function(e){i(function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),c=[e[n],e[t]];e[t]=c[0],e[n]=c[1]}return e}(e))}))}),[E]),Object(c.useEffect)((function(){fetch("/tags").then((function(e){return e.json()})).then((function(e){ue(e)}))}),[E]),Object(c.useEffect)((function(){fetch("/recommend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:oe})}).then((function(e){return e.json()})).then((function(e){I(e)}))}),[oe]),Object(u.jsxs)(j.a.Provider,{value:{setRefresh:q,setAUser:Te,aUser:Be,setFilteredBlogs:Ce,findBlog:D,isLoggedIn:me,userStuff:E,setFindblog:H,setIsLoggedIn:pe,refresh:Y,readBlog:h,setUserStuff:_,userId:K,allBlogs:s,setAllBlogs:i,setReadBlog:f,setId:Q,setTagName:ae,tagName:oe,fromAblog:be,filteredBlogs:Se,allTags:je,setFromAblog:Oe,recommendedStuff:k,allUsers:ne,setEditBlog:y,editBlog:N,currentUser:Z,userSearched:A,setUserSearched:U},children:[" ",Object(u.jsx)(c.Fragment,{children:Object(u.jsx)(C.a,{children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/signup",children:Object(u.jsx)(x,{})}),Object(u.jsx)(l.a,{exact:!0,path:"/author",children:Object(u.jsx)(S,{})}),Object(u.jsx)(l.a,{exact:!0,path:"/login",children:Object(u.jsx)(v,{})}),Object(u.jsx)(l.a,{exact:!0,path:"/search",children:Object(u.jsx)(O,{})}),Object(u.jsx)(l.a,{exact:!0,path:"/blog",children:Object(u.jsx)(g,{})}),Object(u.jsx)(l.a,{exact:!0,path:"/createBlogs",children:Object(u.jsx)(d,{})}),Object(u.jsx)(l.a,{exact:!0,path:"/",children:Object(u.jsx)(b,{})})]})})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),i(e),o(e)}))};o.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root")),y()}},[[43,1,2]]]);
//# sourceMappingURL=main.5da41a78.chunk.js.map